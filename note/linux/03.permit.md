# linux 权限划分原则

### 用户和组

linux 将用户抽象成了账户， 账户可以登录系统

### 组账户

多个账户的集合，组可以为成员们分配某一类权限

### root账户也叫作超级管理员

对系统有着完全的掌控， 可以使用系统提供的全部能力

### linux 中一个文件设置三种权限

* 读权限（r）： 控制读取文件

* 写权限（w）: 控制写入文件

* 执行文件（x）: 控制将文件执行

* 用户维度

* 组维度

* 全部用户维度



### 初始权限

linux为每个用户创建了一个同名分组

权限通常是 `rw-rw-r--`


### 权限抽象

内核是操作系统连接硬件， 提供最核心能力的程序， 把部分进程需要的系统调用以c语言api的形式提供出来

优秀的权限架构： 让系统安全、稳定且用户、程序之间相互制约、相互隔离、要求权限系统中的权限划分足够清晰，分配权限的成本足够低

权限划分边界应该足够清晰，尽量做到相互隔离

### 权限包围

### 用户分组指令

```bash

groups

# adm 分组用于系统监控
# sudo 分组用户可以通过sudo指令临时提升权限

# 查看用户
id

cat /etc/password

# 创建用户
sudo useradd foo

# 创建分组 -G 一个次级分组的清单， -a append

sudo usermod -a -G sudo foo

# 修改分组
sudo usermod -g somegroup foo

# 设置foo可以执行
chmod+x ./foo

# 不允许foo执行
chmod-x ./foo

# 也可以同时设置多个权限
chmod+rwx./foo

# rwxrwxrwx(111111111->777)
chmod 777 ./foo
# rw-rw-rw-(110110110->666)
chmod 666 ./foo

#修改用户所属用户
chown bar ./foo
# 同时修改用户和分组
chown g.u ./foo
```

划分原则

  * 在实际生生产过程中， 管理员权限划分， 互相牵制

  * 每个应用应当尽可能小的使用权限

  * 尽可能小的使用root

  * 系统层面实现权限分级保护