# shading 着色

> 引入明暗导致颜色的不同， 对不同的物体应用不同的材质的过程。

着色模型： blinn-phong 反射模型
高光： 
**漫反射**： 一束光线达到物体，会被均匀反射到各个方向。
间接光照： 从别的物体反射得到的光照   环境光

shading point：

Ld = kd(I/r^2)max(0, n · 1) 在这里折射无意义

kd： 漫反射系数， 用rgb值。[0,1]， 漫反射项与观察方向无关。

在物体表面，在极小范围内一定是平面，我们可以定义法线， 定义观测方向和光照方向。

物体表面属性。 shininess、 color


shading in local ： 不考虑其他物体的存在。 shading !== shadow

点光源：能量集中在一个球壳上，在距离为1的时候能量为I， 光线在传播过程中， 单位面积所能接受到的能量与距离成反比。 

光滑的物体， 反射方向接近镜面反射的方向， 观察方向与镜面放射方向足够接近的时候就得到高光

**半程向量**： h = bisetor（v， 1） = v + L / || v + L||
高光： 法线与h的方向是否足够接近

Ls = ks(I/r^2)max(0, cos)^p = ks(I/r^2)max(0, n ·h) ^ p
p: 100-200; 控制高光大小
ks: 镜面放射系数，为白色。

**环境光**： La = ka*Ia

result： L=La+Ld+Ls 

光线传输 过程中 


着色频率： 着色应用在哪些点上 

面上法线  face flat shading

每一个顶点有法线， 三角形内部的点， 通过差值算出来。  gouraud shading

着色应用在每一个像素。 phong shading

顶点的法线： 相邻的三角形的法线的加权平均

逐像素的法线： 差值： 重心坐标。

## 图形管线/实时渲染管线

1. 投影

2. 形成三角形

3. 光栅化 ， 打散成像素， 深度缓冲

4. 着色  顶点、像素着色  可编程 shader

shader： 现代Gpu允许自己编程来解决顶点和像素如何着色， 每一个顶点或者像素会执行一次。

**顶点着色**： vector shader


**像素/片段着色**：fragment shader

## Gpu： 独立显卡/集成显卡
> 高度并行化处理器，

computer shader 任何形式的计算











































